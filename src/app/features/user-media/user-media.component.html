<!-- Step 5: Technical Skills -->
<div class="step-content">
  <h3>Document media</h3>

  <div class="section-header">
    <h4>Add New Document-Media</h4>
  </div>

  <form [formGroup]="usermediaForm">
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Document Name</mat-label>
        <input matInput formControlName="name" required>
        <mat-error *ngIf="usermediaForm.get('name')?.hasError('required')">
          Skill name is required
        </mat-error>
      </mat-form-field>


      <mat-form-field appearance="outline" class="form-field">
        <mat-label> FilePath</mat-label>
        <input matInput formControlName="filePath" required>
        <mat-error *ngIf="usermediaForm.get('filePath')?.hasError('required')">
          FilePath is required
        </mat-error>
      </mat-form-field>


      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Description</mat-label>
        <input matInput formControlName="description" required>
        <mat-error *ngIf="usermediaForm.get('description')?.hasError('required')">
          Skill name is required
        </mat-error>
      </mat-form-field>


      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Category</mat-label>
        <mat-select formControlName="category" required>
          <mat-option *ngFor="let category of documentCategories" [value]="category">
            {{category}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="usermediaForm.get('category')?.hasError('required')">
          Category is required
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>MediaType</mat-label>
        <mat-select formControlName="mediaType" required>
          <mat-option *ngFor="let mediaType of mediaTypes" [value]="mediaType">
            {{mediaType | titlecase}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="usermediaForm.get('mediaType')?.hasError('required')">
          mediaType is required
        </mat-error>
      </mat-form-field>

    </div>

    <mat-checkbox formControlName="verified">verified</mat-checkbox>

    <div class="button-row">
      <button mat-raised-button color="primary" *ngIf="!editingDocId" (click)="addUserMedia()" [disabled]="!usermediaForm.valid">
        <mat-icon>add</mat-icon>
        Add Document
      </button>
      <button mat-raised-button color="accent" *ngIf="editingDocId" (click)="updateUserMedia()" [disabled]="!usermediaForm.valid">
        <mat-icon>save</mat-icon>
        Update Document
      </button>
    </div>
  </form>

  <!-- List of existing technical skills -->
  <div class="section-header" *ngIf="usermedias.length > 0">
    <h4>Your Documents</h4>
  </div>

  <div class="skills-grid">
    <mat-card *ngFor="let doc of usermedias" class="skill-card">
      <mat-card-header>
        <mat-card-title>{{doc.name}}</mat-card-title>
        <mat-card-title>{{doc.filePath}}</mat-card-title>
        <mat-card-title>{{doc.description}}</mat-card-title>

        <mat-card-subtitle>{{doc.category}}</mat-card-subtitle>
        <span class="spacer"></span>
        <mat-icon *ngIf="doc.verified" color="primary" >verified</mat-icon>
        <button mat-icon-button (click)="deleteUserMedia(doc.id)">
          <mat-icon color="warn">delete</mat-icon>
        </button>

        <button mat-icon-button (click)="editUserMedia(doc)">
          <mat-icon color="primary">edit</mat-icon>
        </button>

      </mat-card-header>

      <mat-card-content>
        <div class="skill-details">
          <div><strong>mediaType:</strong> {{doc.mediaType | titlecase}}</div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
